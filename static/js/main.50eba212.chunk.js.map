{"version":3,"sources":["components/ImageGallery/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/ImageGallery/ImageGalleryItem.js","API.js","components/Modal/Modal.js","components/Loader/Loader.js","components/Button/Button.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","trim","props","onSubmit","toast","this","className","s","SearchForm","type","Button","Label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGallery","children","ImageGalleryItem","imagesArr","onClickImg","map","imgObj","onClick","largeImageURL","src","webformatURL","alt","tags","Image","id","KEY","fetchImg","name","page","axios","get","Modal","handleEscape","code","toggleModall","handleClose","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","largeImage","document","querySelector","Loader","color","height","width","timeout","handleCick","App","images","showModal","isLoading","showMessage","fetchData","then","data","hits","length","prevState","catch","err","finally","handleGalleryItem","fullImageUrl","toggleModal","handleFormSubmit","valueInput","scrollOnLoadButton","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","showButton","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.50eba212.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__205TZ\",\"Image\":\"ImageGalleryItem_Image__3TrFy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__Itdsu\",\"Modal\":\"Modal_Modal__1by2n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__KsSdu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__1lK1N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__336S-\"};","import { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    const { value } = this.state;\r\n    e.preventDefault();\r\n    if (value.trim() === '') {\r\n      toast('Enter a query');\r\n      return;\r\n    }\r\n    this.props.onSubmit(value);\r\n    // this.resetForm();\r\n  };\r\n\r\n  // resetForm = () => {\r\n  //   this.setState({ value: '' });\r\n  // };\r\n\r\n  render() {\r\n    const { handleChange, handleSubmit } = this;\r\n    const { value } = this.state;\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className={s.Button}>\r\n            <span className={s.Label}>Search</span>\r\n          </button>\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={handleChange}\r\n            value={value}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return <ul className={s.ImageGallery}>{children}</ul>;\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ imagesArr, onClickImg }) => {\r\n  return imagesArr.map(imgObj => {\r\n    const fullImage = () => onClickImg(imgObj.largeImageURL);\r\n    return (\r\n      <li className={s.ImageGalleryItem} key={imgObj.id} onClick={fullImage}>\r\n        <img src={imgObj.webformatURL} alt={imgObj.tags} className={s.Image} />\r\n      </li>\r\n    );\r\n  });\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  imagesArr: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string,\r\n    }),\r\n  ),\r\n  onClickImg: PropTypes.func.isRequired,\r\n};\r\n","import axios from 'axios';\r\n\r\nconst KEY = '23051678-b5ac65469c9e5d51c8f14a2a6';\r\n\r\nfunction fetchImg(name = 'cat', page = 1) {\r\n  return axios.get(\r\n    `https://pixabay.com/api/?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n}\r\n\r\nexport default fetchImg;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscape);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscape);\r\n  }\r\n\r\n  handleEscape = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.toggleModall();\r\n    }\r\n  };\r\n\r\n  handleClose = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.toggleModall();\r\n    }\r\n  };\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleClose}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.largeImage} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      document.querySelector('#modalRoot'),\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import Spinner from 'react-loader-spinner';\r\nimport s from './Loader.module.css';\r\n\r\nconst Loader = () => (\r\n  <div className={s.Loader}>\r\n    <Spinner\r\n      type=\"Audio\"\r\n      color=\"#00BFFF\"\r\n      height={180}\r\n      width={180}\r\n      timeout={3000}\r\n    />\r\n  </div>\r\n);\r\nexport default Loader;\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ handleCick }) => (\r\n  <div>\r\n    <button type=\"button\" className={s.Button} onClick={handleCick}>\r\n      Load more\r\n    </button>\r\n  </div>\r\n);\r\n\r\nButton.propTypes = {\r\n  handleCick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport './App.css';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport ImageGalleryItem from './components/ImageGallery/ImageGalleryItem';\r\nimport fetchImg from './API';\r\nimport Modal from './components/Modal/Modal';\r\nimport Loader from './components/Loader/Loader';\r\nimport Button from './components/Button/Button';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    value: '',\r\n    showModal: false,\r\n    largeImage: '',\r\n    isLoading: false,\r\n    page: 1,\r\n    showMessage: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.page !== 2) {\r\n      this.scrollOnLoadButton();\r\n    }\r\n    if (prevState.value !== this.state.value) {\r\n      this.fetchData();\r\n    }\r\n  }\r\n\r\n  fetchData = () => {\r\n    this.setState({ isLoading: true, showMessage: false });\r\n\r\n    const { value, page } = this.state;\r\n    fetchImg(value, page)\r\n      .then(data => {\r\n        if (data.data.hits.length === 0) {\r\n          this.setState({ images: [], showMessage: true });\r\n        }\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...data.data.hits],\r\n          page: prevState.page + 1,\r\n        }));\r\n      })\r\n      .catch(err => this.setState({ showMessage: true }))\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n  };\r\n\r\n  handleGalleryItem = fullImageUrl => {\r\n    this.setState({\r\n      largeImage: fullImageUrl,\r\n    });\r\n    this.toggleModal();\r\n  };\r\n\r\n  handleFormSubmit = valueInput => {\r\n    this.setState({ images: [], value: valueInput, page: 1 });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState({ showModal: !this.state.showModal });\r\n  };\r\n\r\n  scrollOnLoadButton = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { handleFormSubmit, toggleModal, handleGalleryItem, fetchData } =\r\n      this;\r\n    const { images, showModal, largeImage, isLoading, showMessage } =\r\n      this.state;\r\n    const showButton = images.length > 0 && images.length >= 12;\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={handleFormSubmit} />\r\n        {showMessage ? (\r\n          <h2 className=\"text\">\r\n            Nothing was found for your query. Try another query!\r\n          </h2>\r\n        ) : (\r\n          <ImageGallery>\r\n            <ImageGalleryItem\r\n              imagesArr={images}\r\n              onClickImg={handleGalleryItem}\r\n            />\r\n          </ImageGallery>\r\n        )}\r\n        <div className=\"containerBtn\">\r\n          {showButton && <Button handleCick={fetchData} />}\r\n        </div>\r\n        {showModal && (\r\n          <Modal toggleModall={toggleModal} largeImage={largeImage} />\r\n        )}\r\n        {isLoading && <Loader />}\r\n        <ToastContainer />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__s_3lJ\",\"SearchForm\":\"Searchbar_SearchForm__37JeF\",\"SearchForm__input\":\"Searchbar_SearchForm__input__xy4Ee\",\"Button\":\"Searchbar_Button__3Gar5\",\"Label\":\"Searchbar_Label__2ea1Z\"};"],"sourceRoot":""}